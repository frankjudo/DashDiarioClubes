console.log("Rodando versão minificada");let csvURL="https://docs.google.com/spreadsheets/d/e/2PACX-1vQ21mvugq-_T80mCuddCnebiH30MWwJvQ58QiS9OqzHJuTXEVPsOFa9_Apzt4e9rlrLEeQtc8p60t80/pub?gid=0&single=true&output=csv";document.addEventListener("DOMContentLoaded",()=>{console.log("Iniciando carregamento do CSV...");Papa.parse(csvURL,{download:!0,header:!1,complete:e=>{console.log("Linhas recebidas:",e.data.length);console.log("Primeira linha recebida (estrutura CSV):",e.data[0]);if(e.data[0].length!==27)console.warn("⚠️ Estrutura CSV alterada:",e.data[0].length,"colunas (esperado 27)");let t=e.data.slice(1).map(t=>({data:t[0],clube:t[2],ftd:parseFloat((t[5]||"0").replace(/\./g,"").replace(",","."))||0,depositos:parseFloat((t[6]||"0").replace(/\./g,"").replace(",","."))||0,ggr:parseFloat((t[26]||"0").replace(/\./g,"").replace(",","."))||0}));console.log("Dados normalizados:",t.length);console.log("Primeiras 5 linhas normalizadas:",t.slice(0,5));let a=t.reduce((e,t)=>(e.ftd+=t.ftd,e.depositos+=t.depositos,e.ggr+=t.ggr,e),{ftd:0,depositos:0,ggr:0});console.log("Totais calculados -> FTD:",a.ftd,"Depósitos:",a.depositos,"GGR:",a.ggr);document.getElementById("totalFTD").innerText=`R$ ${a.ftd.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,document.getElementById("totalDepositos").innerText=`R$ ${a.depositos.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,document.getElementById("totalGGR").innerText=`R$ ${a.ggr.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;}})});
