console.log("Rodando versão minificada");
const url="https://docs.google.com/spreadsheets/d/e/2PACX-1vQ21mvugq-_T80mCuddCnebiH30MWwJvQ58QiS9OqzHJuTXEVPsOFa9_Apzt4e9rlrLEeQtc8p60t80/pub?gid=0&single=true&output=csv";
let dados=[];
function carregarCSV(){console.log("Iniciando carregamento do CSV...");const t0=performance.now();Papa.parse(url,{download:!0,header:!0,complete:function(r){dados=r.data;console.log("Linhas recebidas:",dados.length);console.log("Primeira linha recebida:",Object.keys(dados[0]));console.log("Primeiras 5 linhas normalizadas:",dados.slice(0,5));processarDados(dados);const t1=performance.now();console.log("processamento:",(t1-t0).toFixed(2),"ms")}})}
function processarDados(e){let t=0,a=0,o=0;e.forEach(e=>{t+=parseFloat(e["Usuário - FTD-Montante"]||0),a+=parseFloat(e["Usuário - Depósitos"]||0),o+=parseFloat(e["Cálculo - GGR"]||0)}),document.getElementById("ftdTotal").textContent="R$ "+t.toLocaleString(),document.getElementById("depositosTotal").textContent="R$ "+a.toLocaleString(),document.getElementById("ggrTotal").textContent="R$ "+o.toLocaleString(),console.log(`Totais calculados -> FTD: ${t}, Depósitos: ${a}, GGR: ${o}`)}
window.onload=carregarCSV;
